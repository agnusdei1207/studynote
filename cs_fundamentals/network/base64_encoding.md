---
layout: default
title: Base64 인코딩
---

# Base64 인코딩

## 1. 개념

**Base64**는 바이너리 데이터를 64개의 ASCII 문자로만 구성된 텍스트 형식으로 변환하는 인코딩 방식입니다. 8비트 바이너리 데이터를 6비트 단위로 재구성하여, 각 6비트 값을 64개의 인쇄 가능한 ASCII 문자(A-Z, a-z, 0-9, +, /) 중 하나로 매핑합니다.

## 2. 등장 배경

Base64가 등장한 배경은 다음과 같습니다:

| 배경 | 설명 |
|------|------|
| **이메일 전송 제약** | 초기 이메일 시스템(SMTP)은 7비트 ASCII 문자만 전송 가능했음 |
| **바이너리 데이터 전송** | 이미지, 파일 등 8비트 바이너리 데이터를 전송할 방법 필요 |
| **데이터 무결성** | 전송 과정에서 데이터가 변질되지 않아야 함 |
| **표준화 필요** | 1987년 RFC 989, 1992년 RFC 1341(MIME)으로 표준화 |

## 3. 구성 요소

### 3.1 인코딩 문자셋

| 문자 범위 | 문자 개수 | ASCII 값 | 설명 |
|-----------|-----------|----------|------|
| A-Z | 26개 | 65-90 | 대문자 알파벳 |
| a-z | 26개 | 97-122 | 소문자 알파벳 |
| 0-9 | 10개 | 48-57 | 숫자 |
| + | 1개 | 43 | 더하기 기호 |
| / | 1개 | 47 | 슬래시 |
| = | 1개 | 61 | 패딩 문자 |

**총 64개 + 1개(패딩) = 65개 문자**

### 3.2 인코딩 표 (0-63 인덱스)

```
인덱스: 0-25 → 'A'-'Z'
인덱스: 26-51 → 'a'-'z'
인덱스: 52-61 → '0'-'9'
인덱스: 62 → '+'
인덱스: 63 → '/'
```

## 4. 핵심 원리

### 4.1 인코딩 과정

```
┌─────────────────────────────────────────────────────────────────┐
│                    Base64 인코딩 변환 과정                        │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  원본 데이터 (8비트 × 3바이트 = 24비트)                           │
│  ┌─────────┬─────────┬─────────┐                                │
│  │ Byte 1  │ Byte 2  │ Byte 3  │                                │
│  │ 8비트   │ 8비트   │ 8비트   │  = 24비트                       │
│  └─────────┴─────────┴─────────┘                                │
│           ↓ 재구성 (24비트 → 6비트 × 4)                           │
│  ┌─────────┬─────────┬─────────┬─────────┐                      │
│  │ 6비트   │ 6비트   │ 6비트   │ 6비트   │                      │
│  │ (0-63) │ (0-63) │ (0-63) │ (0-63) │                        │
│  └─────────┴─────────┴─────────┴─────────┘                      │
│           ↓ Base64 문자 매핑                                     │
│  ┌─────────┬─────────┬─────────┬─────────┐                      │
│  │ Char 1  │ Char 2  │ Char 3  │ Char 4  │                      │
│  └─────────┴─────────┴─────────┴─────────┘                      │
│                                                                 │
│  결과: 3바이트 → 4문자 (33% 크기 증가)                           │
└─────────────────────────────────────────────────────────────────┘
```

### 4.2 구체적인 변환 예시

**예시: "Cat" 인코딩**

```
Step 1: ASCII 값으로 변환
  'C' = 67 (0b01000011)
  'a' = 97 (0b01100001)
  't' = 116 (0b01110100)

Step 2: 바이너리 결합 (24비트)
  01000011 01100001 01110100

Step 3: 6비트 단위로 분할
  010000 110110 000101 110100

Step 4: 10진수 변환
  16, 54, 5, 52

Step 5: Base64 문자 매핑
  16 → 'Q'
  54 → '2'
  5  → 'F'
  52 → '0'

결과: "Cat" → "Q2F0"
```

### 4.3 패딩(Padding) 처리

입력 데이터가 3바이트 단위로 떨어지지 않을 때 `=` 문자로 패딩합니다:

| 입력 바이트 수 | 처리 방법 | 예시 |
|----------------|-----------|------|
| 3바이트 | 정상 인코딩 | 3바이트 → 4문자 |
| 2바이트 (16비트) | 3개 문자 + `=` 1개 | 2바이트 → 3문자 + `=` |
| 1바이트 (8비트) | 2개 문자 + `==` 2개 | 1바이트 → 2문자 + `==` |

```
2바이트 예시 (16비트 → 6비트×2 + 4비트 남음):
  10101010 11110011
  → 101010 101111 0011--
  → 3개 Base64 문자 + 패딩 1개
```

## 5. 장단점

### 장점

| 장점 | 설명 |
|------|------|
| **텍스트 안전성** | 7비트 ASCII만 사용하는 시스템에서 바이너리 전송 가능 |
| **범용성** | 거의 모든 플랫폼과 프로그래밍 언어 지원 |
| **간단함** | 알고리즘이 단순하여 구현이 쉬움 |
| **데이터 무결성** | 전송 중 데이터 변질 방지 |
| **표준화** | RFC 4648로 표준화되어 호환성 보장 |

### 단점

| 단점 | 설명 |
|------|------|
| **크기 증가** | 원본보다 약 33% 크기 증가 |
| **CPU 오버헤드** | 인코딩/디코딩 연산 필요 |
| **압축 효율 저하** | 압축 후 Base64 인코딩하면 효율 감소 |
| **문자열 연산 불편** | 일부 문자(+, /)가 URL에서 문제될 수 있음 |

## 6. 비교

### 6.1 다른 인코딩 방식과의 비교

| 인코딩 | 문자 수 | 크기 증가율 | 주요 용도 |
|--------|---------|-------------|-----------|
| Base64 | 64 | +33% | 일반적인 바이너리-텍스트 변환 |
| Base32 | 32 | +60% | 대소문자 구분 없는 환경 |
| Base16 (Hex) | 16 | +100% | 사람이 읽기 쉬운 16진수 표현 |
| Ascii85 | 85 | +25% | PDF, PostScript에서 사용 |
| Base62 | 62 | 가변 | URL 단축 서비스 등 |

### 6.2 Base64 변종

| 변종 | 특징 | 용도 |
|------|------|------|
| **Base64url** | `+`→`-`, `/`→`_`, 패딩 제거 | URL, JSON Web Token(JWT) |
| **Base64 (MIME)** | 76문자마다 줄바꿈 | 이메일 첨부파일 |
| **Base64 (PEM)** | 64문자마다 줄바꿈 | SSL 인증서, OpenSSH 키 |

## 7. 기술사적 판단

### 7.1 적용 분야

| 분야 | 활용 예시 |
|------|-----------|
| **이메일** | MIME 인코딩으로 이미지/파일 첨부 |
| **웹** | Data URI Scheme (`data:image/png;base64,...`) |
| **인증** | HTTP Basic Authentication (`Authorization: Basic credentials`) |
| **보안** | JWT 토큰 페이로드, API 키 인코딩 |
| **데이터베이스** | 바이너리 데이터를 텍스트 컬럼에 저장 |

### 7.2 사용 시 고려사항

```
┌─────────────────────────────────────────────────────────────┐
│                    사용 여부 의사결정                          │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  바이너리 데이터 전송 필요?                                   │
│       YES                                                   │
│         ├──→ 전송 매체가 ASCII만 지원? (이메일, 일반 텍스트) │
│         │        YES → Base64 사용                          │
│         │        NO  → 원본 바이너리 전송 고려               │
│         │                                                     │
│         ├──→ 데이터 크기가 중요?                              │
│         │        YES → Base64 사용 자제 (33% 증가)           │
│         │                                                     │
│         └──→ URL에 포함?                                     │
│                  YES → Base64url 사용                        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 7.3 성능 최적화

1. **압축 후 인코딩**: 대용량 데이터는 먼저 압축(gzip, brotli) 후 Base64 인코딩
2. **스트림 처리**: 대용량 파일은 청크 단위로 인코딩하여 메모리 효율화
3. **인코딩 회피**: WebSocket, HTTP/2 등 바이너리 전송 지원 프로토콜 사용 시 원본 전송

## 8. 미래 전망

| 추세 | 설명 |
|------|------|
| **HTTP/2, HTTP/3** | 바이너지 프레이밍 지원으로 Base64 필요성 감소 |
| **WebAssembly** | 브라우저에서 바이너리 직접 처리 확대 |
| **Data URL 사용** | 작은 이미지 리소스 인라인화에 계속 사용 |
| **JWT/OTP** | 보안 토큰 표준으로 지속 사용 |

---

## 🧒 어린이를 위한 설명

### 📦 비유: 상자 옮기기 게임

Base64는 **"무거운 짐을 옮기기 쉬운 가방으로 다시 포장하는 것"**과 같아요.

**상황:**
- **짐(바이너리 데이터)**: 냉장고, 세탁기처럼 옮기기 힘든 물건
- **가방(Base64 문자)**: 튼튼하고 누구나 들 수 있는 가방

**규칙:**
1. 우체국에서는 특별한 가방에만 담아 보낼 수 있어요
2. 냉장고 한 대를 넣으려면 가방 4개가 필요해요 (33% 더 많아요!)
3. 마지막에 남은 공간은 "= "= 표시로 채워요

**예시:**
```
📦 냉장고(3개) → 🎒 가방(4개)
📦 냉장고(2개) → 🎒 가방(3개) + = (빈공간 표시)
📦 냉장고(1개) → 🎒 가방(2개) + == (빈공간 표시)
```

### 🎯 핵심 요약

| 개념 | 어린이 이해 |
|------|------------|
| **인코딩** | 특별한 규칙으로 모양 바꾸기 |
| **64개 문자** | 64가지 색깔 블록 |
| **패딩(=)** | 남은 칸 채우기 |
| **33% 커짐** | 3개를 옮기려면 4개가 필요해요 |
| **디코딩** | 다시 원래 모양으로 돌리기 |
