---
layout: note
title: D 래치와 D 플립플롭
date: 2026-02-27
---

# D 래치와 D 플립플롭

## 어린이를 위한 전체 내용 종합 인사이트 핵심 설명

**D 래치 = 열려있는 창문**
> 창문이 열려 있는 동안에는 밖에서 들리는 소리가 계속 들려요. 창문을 닫으면 그 순간의 소리만 기억해요.

**D 플립플롭 = 사진 촬영**
> 셔터를 "찰칵!" 누르는 그 찰나의 순간만 사진에 찍혀요. 셔터를 누르기 전이나 후의 모습은 안 찍혀요.

**D = Data (데이터)** = 저장하고 싶은 1비트 정보
**Q = 저장된 값** = D가 저장된 결과

---

## 1. 개념

### D 래치 (D Latch)

| 항목 | 설명 |
|------|------|
| **정의** | Enable 신호가 HIGH인 동안 입력 D가 출력 Q로 **계속 전달**되는 레벨 트리거 기억 소자 |
| **별칭** | 투명 래치 (Transparent Latch) |
| **핵심 특성** | E=1일 때 Q가 D를 **실시간으로 따라감** (투명 모드) |
| **트리거 방식** | 레벨 트리거 (Level-Triggered) |

### D 플립플롭 (D Flip-Flop, D-FF)

| 항목 | 설명 |
|------|------|
| **정의** | 클럭 에지에서만 입력 D를 출력 Q로 **샘플링**하여 저장하는 엣지 트리거 기억 소자 |
| **별칭** | 데이터 플립플롭, 딜레이 플립플롭 (Delay Flip-Flop) |
| **핵심 특성** | 클럭 에지 순간의 D만 Q로 저장, 그 외에는 Q 유지 |
| **트리거 방식** | 엣지 트리거 (Edge-Triggered) |

### 핵심 차이 한눈에 보기

```
┌─────────────────────────────────────────────────────────────┐
│                    D 래치 vs D 플립플롭                      │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  D 래치:     E ════════════════════     (레벨 HIGH 구간)    │
│              D ──┐  변화  ┌──┐  변화  ┌──                  │
│                 │   ↓    │  │   ↓    │                    │
│              Q ──┘  Q=D   └──┘  Q=D   └──  (계속 따라감)   │
│                                                             │
│  D 플립플롭:  CLK ──┐      ┐      ┐      ┐                 │
│                    │      │      │      │                  │
│               ─────┘──────┘──────┘──────                   │
│                    ↑      ↑      ↑      ↑                  │
│               D ───1──────0──────1──────0───               │
│               Q ──────1─────────0─────────1──  (에지에서만) │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. 등장 배경

### 2.1 SR 래치의 문제점

```
SR 래치의 치명적 문제: S = R = 1 이면?
→ Q와 Q'가 모두 0이 됨 (모순!)
→ 입력이 사라지면 어떤 상태로 갈지 예측 불가
```

### 2.2 D 래치의 해결책

```
해결: S와 R을 항상 반대로 입력!
     D = 1 → S = 1, R = 0 (Set)
     D = 0 → S = 0, R = 1 (Reset)

결과: S=R=1 상황이 발생하지 않음!
```

### 2.3 발전 과정

```
SR 래치 (S=R=1 문제)
    ↓
D 래치 (단일 입력으로 해결, 레벨 트리거)
    ↓ 레벨 트리거의 노이즈 취약성
D 플립플롭 (에지 트리거로 안정화)
    ↓ 고속 동작 필요
마스터-슬레이브 D 플립플롭
```

---

## 3. D 래치 상세

### 3.1 논리 기호

```
         ┌───────┐
    D ───┤       │
         │ D Latch├─── Q
    E ───┤       │
         └───────┘
```

### 3.2 진리표 (Truth Table)

| E (Enable) | D | Q(next) | 동작 설명 |
|------------|---|---------|-----------|
| 0 | X | Q | **Hold** (상태 유지, 문 닫힘) |
| 1 | 0 | 0 | **Reset** (D=0 저장) |
| 1 | 1 | 1 | **Set** (D=1 저장) |

> **X (Don't Care)**: E=0일 때 D값이 뭐든 상관없음

### 3.3 특성 방정식 (Characteristic Equation)

```
Q(next) = E · D + E' · Q

해석:
- E = 1: Q(next) = D (D를 그대로 출력)
- E = 0: Q(next) = Q (이전 상태 유지)
```

### 3.4 내부 회로 구조

```
D 래치 = SR 래치 + NOT 게이트

         ┌──────────────────────────┐
         │                          │
    D ───┼──┐      ┌───────┐        │
         │  └─────►│       │        │
    E ───┼────────►│ SR    ├─── Q   │
         │  ┌─────►│ Latch │        │
    D'───┼──┘      │       │        │
    (NOT)│         └───────┘        │
         │           ↑               │
         │       R 입력              │
         └──────────────────────────┘

구성: NOT 게이트 1개 + SR 래치 (NAND 2개 + NAND 2개)
```

### 3.5 타이밍 다이어그램

```
E:   ══════════╔════════════════╗════════════
               ║                ║
               ║  Enable=1      ║  Enable=0
               ║  (투명 모드)    ║  (Hold)
               ║                ║

D:   ══════╔══╗╔══════╗╔══════╗╔════════════
              ║║      ║║      ║║
         0────╝╚──────╝╚──────╝╚────1

Q:   ════════╔══╗╔══════╗╔═══════════════════
              ║║      ║║
         Q────╝╚──────╝╚─── Q 유지 (마지막 D=1)
              ↑        ↑
           Q=D       Q=D
         (따라감)  (따라감)
```

### 3.6 투명성 (Transparency)

```
┌─────────────────────────────────────────────────────────────┐
│  투명 모드 (Transparent Mode): E = 1                        │
├─────────────────────────────────────────────────────────────┤
│  • Q가 D를 실시간으로 따라감                                 │
│  • D가 변하면 Q도 즉시 변함                                  │
│  • 입력이 출력으로 "투명하게" 전달됨                         │
│  • 장점: 빠른 응답                                          │
│  • 단점: 노이즈/글리치도 그대로 전달                         │
└─────────────────────────────────────────────────────────────┘
```

---

## 4. D 플립플롭 상세

### 4.1 논리 기호

```
상승 에지 트리거 (Positive Edge)      하강 에지 트리거 (Negative Edge)

       ┌───────┐                            ┌───────┐
  D ───┤       │                       D ───┤       │
       │  D    │                            │  D    │
 CLK ─►│>  FF  ├─── Q                 CLK ─►│> ○ FF ├─── Q
       │       │                            │       │
       └───────┘                            └───────┘
          ▲                                      ○
     삼각형 = 에지 감지                       동그라미 = 반전
```

### 4.2 진리표 (Truth Table)

**상승 에지 트리거 (Positive Edge-Triggered)**

| CLK | D | Q(next) | 동작 설명 |
|-----|---|---------|-----------|
| ↑ (상승 에지) | 0 | 0 | D=0을 저장 |
| ↑ (상승 에지) | 1 | 1 | D=1을 저장 |
| 그 외 | X | Q | 이전 상태 유지 |

> **↑ (상승 에지)**: CLK가 0→1로 변하는 순간

### 4.3 특성 방정식 (Characteristic Equation)

```
Q(next) = D  (클럭 에지에서)

가장 간단한 플립플롭!
```

### 4.4 여기표 (Excitation Table)

> **여기표**: 원하는 상태 변화를 위해 D에 무엇을 넣어야 하는가?

| Q(n) | Q(n+1) | D |
|------|--------|---|
| 0 | 0 | 0 |
| 0 | 1 | 1 |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

**핵심**: **D = Q(n+1)** (다음 상태를 D에 그대로 입력!)

### 4.5 내부 회로: 마스터-슬레이브 구조

```
┌─────────────────────────────────────────────────────────────┐
│              마스터-슬레이브 D 플립플롭                       │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│    D ──► [마스터 래치] ──► [슬레이브 래치] ──► Q            │
│               │                    │                        │
│              CLK                  CLK'                      │
│            (상승 에지)          (하강 에지)                  │
│                                                             │
│  동작 원리:                                                  │
│  1. CLK 상승 에지 → 마스터 래치가 D를 샘플링                 │
│  2. CLK HIGH 구간 → 마스터는 Hold, 슬레이브도 Hold           │
│  3. CLK 하강 에지 → 슬레이브가 마스터 출력을 Q로 전달        │
│                                                             │
│  결과: 겉보기에는 상승 에지에서 D→Q로 한 번에 전달됨         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.6 타이밍 다이어그램

```
CLK:  ────┐     ┐     ┐     ┐     ┐
           │     │     │     │     │
       ────┘─────┘─────┘─────┘─────┘
           ↑     ↑     ↑     ↑
         에지  에지  에지  에지

D:    ═════╔═════════╗╔═══════╗╔═════════════
           ║         ║║       ║║
      0────╝         ╚╝       ╚╝────1

Q:    ══════════╔═════════╗╔═════════════════
               ║         ║║
      0────────╝         ╚╝───────1
               ↑         ↑
            Q=D=1     Q=D=0

특징: 에지 사이의 D 변화는 Q에 영향 없음!
```

---

## 5. D 래치 vs D 플립플롭 비교

### 5.1 종합 비교표

| 비교 항목 | D 래치 | D 플립플롭 |
|-----------|--------|------------|
| **트리거 방식** | 레벨 트리거 (Level-Triggered) | 엣지 트리거 (Edge-Triggered) |
| **제어 신호** | Enable (E) | Clock (CLK) |
| **동작 구간** | E=1인 전체 구간 | CLK 에지 순간 |
| **투명성** | 있음 (Transparent) | 없음 (Opaque) |
| **입력 반영** | E=1 동안 계속 | 에지에서 1회만 |
| **노이즈 민감도** | 높음 (글리치 전달) | 낮음 (샘플링) |
| **타이밍 분석** | 어려움 | 용이 |
| **회로 복잡도** | 낮음 (~6 트랜지스터) | 높음 (~12-20 트랜지스터) |
| **전력 소모** | 적음 | 상대적으로 많음 |
| **최대 속도** | 느림 | 빠름 |
| **주요 용도** | SRAM, 비동기 인터페이스 | 레지스터, 파이프라인, CPU |

### 5.2 동작 파형 비교

```
┌─────────────────────────────────────────────────────────────┐
│  동일 입력에 대한 D 래치와 D 플립플롭의 출력 차이           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  E/CLK: ══════╔════════════════════════╗═════════════════  │
│                ║                        ║                   │
│  D:     ═══╔══╝╔══╗╔═════════╗╔════════╝═══════════════   │
│             ║  ║  ║║         ║║                             │
│                                                             │
│  D 래치 Q: ═══╔══╝╔══╝╔═════════╗╔══════════════════════   │
│  (계속 따라감)  ║  ║  ║║         ║║                          │
│                ║  ║  ║║         ║║                          │
│  D-FF Q:  ══════════╔═══════════════════════════════════   │
│  (에지에서만)      ║                                          │
│                    ↑                                          │
│              에지에서 D=1 샘플링                             │
│              그 이후 D 변화 무시                             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 5.3 선택 기준

```
설계 요구사항 분석
       │
       ├─► 동기 시스템? ────────────────YES──► D 플립플롭
       │    (CPU, 파이프라인, 레지스터)
       │
       ├─► 비동기 인터페이스? ──────────YES──► D 래치
       │    (핸드셰이크, 레벨 감지)
       │
       ├─► 저전력 우선? ───────────────YES──► D 래치
       │    (게이트 수 적음)
       │
       ├─► 노이즈 환경? ───────────────YES──► D 플립플롭
       │    (샘플링 방식)
       │
       └─► 고속 동작? ─────────────────YES──► D 플립플롭
            (타이밍 분석 용이)
```

---

## 6. 주요 응용

### 6.1 D 래치 응용

| 응용 분야 | 설명 |
|-----------|------|
| **SRAM 셀** | 6트랜지스터 D 래치 기반, 고속 메모리 |
| **비동기 FIFO** | 데이터 전달용 버퍼 |
| **입력 캡처** | 레벨 기반 인터럽트 래치 |
| **주소 래치** | 멀티플렉서 버스에서 주소 저장 |

### 6.2 D 플립플롭 응용

| 응용 분야 | 설명 | 구성 |
|-----------|------|------|
| **레지스터** | N비트 데이터 저장 | N개 D-FF 병렬 연결 |
| **시프트 레지스터** | 데이터 시프트 | N개 D-FF 직렬 연결 |
| **파이프라인** | 단계 간 데이터 전달 | 각 단계마다 D-FF |
| **주파수 분주** | 클럭 주파수 /2 | T=1로 구성 |
| **카운터** | 상태 저장 | D-FF + 조합 논리 |

### 6.3 N비트 레지스터 구성

```
┌─────────────────────────────────────────────────────────────┐
│                    4비트 레지스터                            │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│    D₃ ──► [D-FF] ── Q₃                                     │
│              ↑                                              │
│    D₂ ──► [D-FF] ── Q₂                                     │
│              ↑                                              │
│    D₁ ──► [D-FF] ── Q₁    모든 FF가 동일 CLK 사용          │
│              ↑                                              │
│    D₀ ──► [D-FF] ── Q₀                                     │
│              ↑                                              │
│            CLK                                              │
│                                                             │
│    클럭 에지에서 D₃D₂D₁D₀가 한 번에 Q₃Q₂Q₁Q₀로 저장         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 6.4 시프트 레지스터 구성

```
┌─────────────────────────────────────────────────────────────┐
│                    4비트 시프트 레지스터                     │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│    D_in ──► [D-FF] ──► [D-FF] ──► [D-FF] ──► [D-FF] ──► D_out│
│               │        │        │        │                  │
│              Q₀       Q₁       Q₂       Q₃                  │
│               ↑        ↑        ↑        ↑                  │
│              CLK      CLK      CLK      CLK                 │
│               └────────┴────────┴────────┘                  │
│                      (공통 클럭)                             │
│                                                             │
│    매 클럭 에지마다 데이터가 오른쪽으로 1비트씩 이동         │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 7. 타이밍 파라미터 (기술사 필수)

### 7.1 핵심 타이밍 파라미터

| 파라미터 | 기호 | 의미 | 일반적 값 |
|----------|------|------|-----------|
| **Setup Time** | t_setup | 클럭 에지 **전**에 D가 안정해야 하는 시간 | 0.1~1ns |
| **Hold Time** | t_hold | 클럭 에지 **후**에 D가 유지되어야 하는 시간 | 0.05~0.5ns |
| **Clock-to-Q** | t_CQ | 클럭 에지부터 Q 출력 확정까지 지연 | 0.1~0.5ns |
| **전파 지연** | t_pd | 입력→출력 지연 (최대) | 0.2~1ns |

### 7.2 타이밍 다이어그램

```
         t_setup        t_hold
    ◀──────────────▶ ◀────────▶
    ═══════════════════╪══════════════════════════════
D:                    │
    ═══════════════════╪══════════════════════════════
                      ▲
                  CLK Edge
CLK:  ────────────┐   │
                  │   │
             ─────┘   │
                      │
                      │◀─────▶│
                         t_CQ
Q:    ═══════════════════════════════╪═══════════════
                                      │
                                  Q 확정
```

### 7.3 타이밍 위반 시 문제

| 위반 | 결과 | 해결책 |
|------|------|--------|
| **Setup Time 위반** | 메타스테이블 상태, 잘못된 값 저장 | 데이터 경로 지연 단축, 클럭 주기 증가 |
| **Hold Time 위반** | 메타스테이블 상태, 경합 조건 | 데이터 경로 지연 증가 |

### 7.4 최대 동작 주파수

```
f_max = 1 / T_min

T_min = t_CQ + t_logic + t_setup + t_skew

여기서:
- t_CQ: 클럭-투-Q 지연
- t_logic: 조합 논리 지연
- t_setup: 셋업 타임
- t_skew: 클럭 스큐
```

---

## 8. 기술사적 판단

### 8.1 설계 고려사항

```
┌─────────────────────────────────────────────────────────────┐
│  D 래치/D-FF 설계 시 체크포인트                              │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  1. 동기/비동기 선택                                        │
│     • 동기 시스템 → D-FF                                    │
│     • 비동기 인터페이스 → D 래치                            │
│                                                             │
│  2. 타이밍 여유 확보                                        │
│     • Setup/Hold 마진 > 10% 권장                            │
│     • 클럭 스큐 고려                                        │
│                                                             │
│  3. 전력 최적화                                             │
│     • Clock Gating 적용                                     │
│     • 사용하지 않는 FF 클럭 차단                            │
│                                                             │
│  4. 리셋 전략                                               │
│     • 동기 리셋: 클럭과 함께                                │
│     • 비동기 리셋: 즉시                                     │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 8.2 현업 적용 사례

| 분야 | 선택 | 이유 |
|------|------|------|
| **CPU 레지스터 파일** | D-FF | 고속, 동기 동작 필수 |
| **L1 캐시 (SRAM)** | 6T D 래치 | 속도 최우선, 밀도 중요 |
| **파이프라인 레지스터** | D-FF | 정확한 타이밍 제어 |
| **비동기 버스 인터페이스** | D 래치 | 핸드셰이크 프로토콜 |
| **저전력 IoT** | D 래치 | 게이트 수 적음 |

### 8.3 최신 트렌드

| 기술 | 설명 | 효과 |
|------|------|------|
| **Pulsed Latch** | 래치 + 짧은 펄스 클럭 | 속도 + 전력 절감 |
| **Sense Amplifier FF** | 센스 앰프 기반 FF | 고속, 저전력 |
| **Dual-Edge FF** | 상승/하강 에지 모두 사용 | 처리량 2배 |
| **Low-Swing FF** | 낮은 전압 스윙 | 전력 절감 |

---

## 9. 미래 전망

| 분야 | 전망 |
|------|------|
| **공정 미세화** | 3nm 이하에서 변동성 증가 → 타이밍 마진 중요 |
| **저전력** | Near-threshold 동작, Sub-threshold FF |
| **신뢰성** | Radiation-hardened FF (우주/원자력) |
| **새로운 소자** | FinFET, GAA, Tunnel FET 기반 FF |

---

## 10. 요약

```
┌─────────────────────────────────────────────────────────────┐
│                    D 래치 vs D 플립플롭 요약                │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  D 래치                                                     │
│  ───────                                                    │
│  • 레벨 트리거 (E=1 구간 전체)                              │
│  • 투명 모드: Q가 D를 실시간 따라감                         │
│  • 구조 간단, 전력 적음                                     │
│  • 용도: SRAM, 비동기 인터페이스                            │
│                                                             │
│  D 플립플롭                                                 │
│  ───────────                                                │
│  • 엣지 트리거 (CLK 에지 순간만)                            │
│  • 비투명: 에지에서만 D 샘플링                              │
│  • 구조 복잡, 타이밍 분석 용이                              │
│  • 용도: 레지스터, 파이프라인, CPU                          │
│                                                             │
│  핵심 공식:                                                 │
│  • D 래치: Q(next) = E·D + E'·Q                             │
│  • D-FF: Q(next) = D (에지에서)                             │
│                                                             │
│  선택 기준: 동기 → D-FF, 비동기/저전력 → D 래치             │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 부록: 어린이를 위한 설명

### D 래치는 "열린 문"

> 문이 열려 있을 때는 밖에서 뭐라고 말하든 다 들려요.
> "안녕?" → Q도 "안녕!"
> "잘가!" → Q도 "잘가!"
> 문을 닫으면, 마지막에 들은 말만 기억해요.

### D 플립플롭은 "사진 촬영"

> 셔터를 "찰칵!" 누르는 순간만 사진에 찍혀요.
> 셔터 누르기 전에 D가 "안녕" → 사진엔 "안녕"
> 셔터 누른 후에 D가 "잘가"로 바뀜 → 사진엔 여전히 "안녕"
> 다음 셔터 누를 때까지 Q는 변하지 않아요!

### D와 Q의 관계

| D (입력) | Q (저장된 값) |
|----------|---------------|
| 0 | 0 (불 꺼짐) |
| 1 | 1 (불 켜짐) |

> D는 "저장하고 싶은 것"
> Q는 "실제로 저장된 것"
> D 플립플롭에서는 셔터 누르는 순간 D가 Q가 돼요!

### 언제 뭘 쓰나요?

| 상황 | 추천 |
|------|------|
| 시계처럼 정확한 타이밍 필요 | D 플립플롭 |
| 전원 적게 쓰고 싶음 | D 래치 |
| 노이즈 많은 환경 | D 플립플롭 |
| 빠르게 데이터 전달 | D 래치 |
