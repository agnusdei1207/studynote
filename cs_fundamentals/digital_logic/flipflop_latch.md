# 플립플롭(Flip-Flop)과 래치(Latch)

## 핵심 인사이트

> **"래치는 문이 열린 동안 계속, 플립플롭은 정확한 순간에 딱 한 번"**

| 구분 | 래치 | 플립플롭 |
|------|------|----------|
| **트리거** | Level-Triggered (레벨 감지) | Edge-Triggered (엣지 감지) |
| **비유** | 열린 문 (들어오는 대로 받음) | 카메라 셔터 (찰칵! 한 순간만) |
| **용도** | 비동기 회로, 펄스 캡처 | 동기 회로, 레지스터, 파이프라인 |

---

## 1. 개념

### 정의
둘 다 **1비트 상태를 저장하는 순차 논리 회로**로, 피드백 루프를 통해 이전 상태를 기억한다.

### 핵심 차이
- **래치**: Enable 신호가 HIGH인 **동안** 입력 변화가 출력에 반영 (투명 모드)
- **플립플롭**: 클럭 **에지 순간에만** 입력을 샘플링하여 출력 변경

---

## 2. 동작 원리

### 래치 (Level-Triggered)

```
Enable:  ────┐           ┌────
             │           │
CLK:     ────┴───────────┴────
             ║═══════════║
             ↑           ↑
          투명 모드    Hold
        (입력→출력)   (상태 유지)
```

| Enable | D | Q(next) |
|--------|---|---------|
| 0 | X | Q (유지) |
| 1 | 0 | 0 |
| 1 | 1 | 1 |

### 플립플롭 (Edge-Triggered)

```
CLK:     ────┐   ┐   ┐   ┐
             │   │   │   │
         ────┘   └───┘   └────
             ↑       ↑
          에지    에지
        (샘플링) (샘플링)
```

| CLK Edge | D | Q(next) |
|----------|---|---------|
| ↑ | 0 | 0 |
| ↑ | 1 | 1 |
| 그 외 | X | Q (유지) |

---

## 3. 종류

### 입력 신호 의미 (먼저 이해하기)

| 신호 | 영문 | 한국어 | 역할 |
|------|------|--------|------|
| **S** | Set | 설정 | 출력 Q를 1로 만듦 |
| **R** | Reset | 리셋 | 출력 Q를 0으로 만듦 |
| **D** | Data | 데이터 | 저장할 1비트 값 (0 또는 1) |
| **E** | Enable | 인에이블 | "지금 입력 받아라" 신호 (1=받음, 0=무시) |
| **CLK** | Clock | 클럭 | 동기화 신호 (상승/하강 에지에서 동작) |
| **J** | Jump/Set | 점프/설정 | SR 래치의 S와 유사 (단, J=K=1 허용) |
| **K** | Kill/Reset | 킬/리셋 | SR 래치의 R과 유사 (단, J=K=1 허용) |
| **T** | Toggle | 토글 | 1이 들어오면 출력 반전 (0→1, 1→0) |

### 래치
| 종류 | 입력 신호 | 특징 |
|------|-----------|------|
| **SR 래치** | Set(S), Reset(R) | 기본형, S=R=1 금지 (둘 다 1이면 출력 불확정) |
| **D 래치** | Data(D), Enable(E) | SR 모호성 해결, E=1일 때 D값이 Q로 전달 |

### 플립플롭
| 종류 | 입력 신호 | 특징 | 용도 |
|------|-----------|------|------|
| **D-FF** | Data(D), Clock(CLK) | 클럭 에지에서 D값 → Q 출력 | 레지스터 |
| **JK-FF** | Jump(J), Kill(K), Clock(CLK) | J=K=1일 때 토글 (출력 반전) | 카운터, 범용 |
| **T-FF** | Toggle(T), Clock(CLK) | T=1일 때 클럭마다 출력 반전 | 주파수 분주 |

---

## 4. 비교 분석

| 구분 | 래치 | 플립플롭 |
|------|------|----------|
| **민감 구간** | Enable=1 전체 | 클럭 에지 순간 |
| **투명성** | O (Transparent) | X (Opaque) |
| **동기화** | 비동기 | 동기 |
| **게이트 수** | 2~4개 | 6~10개 |
| **전력** | 적음 | 상대적으로 많음 |
| **타이밍 분석** | 어려움 | 용이 |

---

## 5. 타이밍 파라미터 (기술사 필수)

| 파라미터 | 의미 | 중요성 |
|----------|------|--------|
| **Setup Time** | 클럭 전 입력 안정 시간 | 위반 시 메타스테이블 |
| **Hold Time** | 클럭 후 입력 유지 시간 | 위반 시 메타스테이블 |
| **Clk-to-Q** | 클럭→출력 지연 | 최대 동작 속도 결정 |

---

## 6. 기술사적 판단

### 선택 기준
```
동기 시스템? ──YES──► 플립플롭
     │
     NO
     ↓
레벨 감지/펄스 캡처? ──YES──► 래치
```

### 현업 적용
- **CPU 파이프라인**: D 플립플롭 (동기화 필수)
- **SRAM 셀**: 래치 기반 (속도 우선)
- **비동기 FIFO**: 그레이 코드 카운터 (JK/T-FF)

### 최신 트렌드
- **Pulse Latch**: 래치의 속도 + 플립플롭의 동기성
- **Low-Power FF**: Clock Gating으로 불필요한 스위칭 제거

---

## 7. 미래 전망

| 분야 | 전망 |
|------|------|
| **공정** | 3nm 이하 → Quantum Tunneling 문제, GAA/FinFET 필요 |
| **저전력** | IoT 확산 → Ultra-Low-Power 설계 필수 |
| **신기술** | 양자 컴퓨팅(Qubit 저장), 뉴로모픽(Memristor 기반) |

---

## 부록: 어린이를 위한 설명

### 비유로 이해하기

**래치 = 열린 문**
> 문이 열려 있으면 누구든지 들어올 수 있어요. 문이 닫히면 아무도 못 들어와요.

**플립플롭 = 카메라 셔터**
> 셔터를 "찰칵!" 누르는 그 순간만 사진이 찍혀요. 그 외에는 아무 일도 없어요.

### 한 줄 요약
| 이름 | 언제 변하나요? |
|------|----------------|
| 래치 | 문이 열린 동안 계속 |
| 플립플롭 | 셔터 누르는 순간 딱 한 번 |
