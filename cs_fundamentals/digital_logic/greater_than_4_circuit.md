---
layout: note
title: 4 초과 판별 조합회로 (Greater-Than-4 Circuit)
---

# 4 초과 판별 조합회로 (Greater-Than-4 Circuit)

## 어린이를 위한 전체 내용 종합 인사이트 핵심 설명

숫자 3개(x, y, z)를 받아서 "이 숫자가 4보다 큰가?"를 묻는 기계예요. 마치 놀이공원 티켓팅 기계 같아요 — 키가 120cm 이상이면 "탑승 가능(1)"을, 아니면 "탑승 불가(0)"를 알려주는 것과 같죠. 여기서는 4보다 큰 숫자(5, 6, 7)만 "1"이라고 외치고, 나머지는 "0"이라고 말하는 회로를 만들어요.

---

## 1. 문제 정의

| 항목 | 내용 |
|------|------|
| **입력** | 3개의 비트 x, y, z (각각 0 또는 1) |
| **표현 범위** | 0 ~ 7 (총 8가지 조합) |
| **출력 조건** | 입력값 > 4 → 출력 1, 입력값 ≤ 4 → 출력 0 |
| **회로 종류** | 조합회로 (Combinational Circuit) — 현재 입력값만으로 출력 결정 |

### 3비트 2진수 표현

3개의 입력변수 x, y, z는 다음과 같이 2진수를 표현합니다:

```
x y z  →  10진수 값
─────     ─────────
x × 4 + y × 2 + z × 1
```

---

## 2. 진리표 (Truth Table)

| x | y | z | 10진수 | F (출력) |
|---|---|---|--------|----------|
| 0 | 0 | 0 | 0 | 0 |
| 0 | 0 | 1 | 1 | 0 |
| 0 | 1 | 0 | 2 | 0 |
| 0 | 1 | 1 | 3 | 0 |
| 1 | 0 | 0 | 4 | 0 |
| 1 | 0 | 1 | 5 | **1** |
| 1 | 1 | 0 | 6 | **1** |
| 1 | 1 | 1 | 7 | **1** |

> **핵심 관찰**: 출력이 1이 되는 경우는 (5, 6, 7) 세 가지뿐입니다. 이를 **minterm**으로 표현하면 Σm(5, 6, 7)입니다.

---

## 3. 카르노 맵 (Karnaugh Map)을 이용한 간소화

### 카르노 맵 작성

```
         yz
        00  01  11  10
      ┌───┬───┬───┬───┐
    0 │ 0 │ 0 │ 0 │ 0 │  x=0
 x    ├───┼───┼───┼───┤
    1 │ 0 │ 1 │ 1 │ 1 │  x=1
      └───┴───┴───┴───┘
```

### 그룹화 및 간소화

카르노 맵에서 인접한 1들을 그룹화합니다:

1. **그룹 1**: (x=1, yz=01), (x=1, yz=11) → yz에서 z=1 공통 → **xz**
2. **그룹 2**: (x=1, yz=11), (x=1, yz=10) → yz에서 y=1 공통 → **xy**

### 간소화된 불리언 식

$$\boxed{F = xy + xz}$$

또는 인수분해 형태:

$$F = x(y + z)$$

---

## 4. 논리 회로 구현

### 4.1 게이트 레벨 회로도

```
     x ──────┬──────────────────┐
             │                  │
             └──┐               │
                │    ┌───┐      │
     y ────────┼────┤   │      │
                │    │ AND├────┤
                └────┤   │     │    ┌───┐
                     └───┘     └────┤   │
                                    │ OR ├──── F (출력)
                     ┌───┐     ┌────┤   │
     z ────────┬────┤   │     │    └───┘
                │    │ AND├────┘
                │    ┤   │
     x ────────┴────┤   │
                     └───┘
```

### 4.2 대안 회로 (인수분해 형태)

```
     x ─────────────────────────────────────┐
                                            │
     y ────────┐    ┌───┐                   │
                └───┤   │                   │
                    │ OR├──────┐            │
     z ────────────┤   │      │    ┌───┐   │
                    └───┘      └────┤   │   │
                                    │AND├──┴──── F (출력)
                                    ┤   │
                                    └───┘
```

### 4.3 게이트 수 비교

| 구현 방식 | AND 게이트 | OR 게이트 | 총 게이트 |
|----------|-----------|----------|----------|
| F = xy + xz | 2개 (2입력) | 1개 (2입력) | 3개 |
| F = x(y + z) | 1개 (2입력) | 1개 (2입력) | 2개 |

> **★ Insight**: 인수분해 형태 `F = x(y + z)`가 게이트 수가 더 적어 하드웨어 효율적입니다.

---

## 5. 동작 원리 상세 분석

### 5.1 논리적 해석

```
F = x(y + z)
```

이 식의 의미:
- **x = 1**: 4 이상의 값 (MSB가 1)
- **(y + z) = 1**: y 또는 z 중 하나라도 1

즉, **"4 이상이면서(y가 1이거나 z가 1), 정확히 4는 아님"**을 의미합니다.

### 5.2 조건별 분석

| 조건 | 의미 |
|------|------|
| x = 0 | 값이 0~3 → 무조건 0 |
| x = 1, y = 0, z = 0 | 값 = 4 → 0 |
| x = 1, y = 1 | 값이 6 또는 7 → 1 |
| x = 1, z = 1 | 값이 5 또는 7 → 1 |

---

## 6. 확장: 일반화된 n비트 비교기

### 6.1 4 초과 판별의 일반화

n비트 입력에서 값이 k를 초과하는지 판별하려면:

1. **진리표 작성**: 모든 2^n 조합에 대해 출력 정의
2. **카르노 맵 간소화**: 논리식 최적화
3. **회로 구현**: 게이트 조합으로 실현

### 6.2 비교기 (Comparator) 회로

이 문제는 **단순 비교기**의 특수한 경우입니다:

```
         ┌─────────────┐
   A ────┤             │
         │ Comparator  ├──── A > B
   B ────┤   (A > B)   │
         └─────────────┘
```

여기서 B = 4(2진수 100)로 고정된 형태입니다.

---

## 7. 기술사적 판단

### 7.1 설계 고려사항

| 요소 | 고려 내용 |
|------|----------|
| **속도** | 게이트 깊이가 얕을수록 빠름 (2단 구조) |
| **면적** | 게이트 수가 적을수록 칩 면적 감소 |
| **전력** | 스위칭 활동도가 낮은 구조 선호 |
| **테스트** | 결함 감지를 위한 테스트 패턴 생성 용이성 |

### 7.2 실무 적용

- **ALU (Arithmetic Logic Unit)**: 산술 비교 연산의 기본 요소
- **주소 디코딩**: 메모리 범위 확인
- **인터럽트 우선순위**: 우선순위 비교
- **입력 검증**: 값의 범위 확인

### 7.3 최적화 기법

```
원본:  F = xy + xz       (3 gates)

인수분해: F = x(y + z)   (2 gates) ← 권장

De Morgan 변환: F = x(y + z) = (x' + y'z')'  (NAND-NOR만 사용)
```

---

## 8. 미래 전망

### 8.1 기술 발전 방향

| 분야 | 발전 내용 |
|------|----------|
| **소자** | CMOS → FinFET → GAA (Gate-All-Around) |
| **설계** | RTL 설계 자동화, 논리 합성 도구 발전 |
| **검증** | 형식 검증 (Formal Verification) 도입 확대 |

### 8.2 관련 기술

- **FPGA**: 프로그래밍 가능한 논리 게이트 배열
- **ASIC**: 특정 용도에 최적화된 칩 설계
- **HDL (Verilog/VHDL)**: 하드웨어 기술 언어로 회로 정의

---

## 9. 참고: HDL 구현 예시

### Verilog

```verilog
module greater_than_4 (
    input  x, y, z,
    output F
);
    assign F = x & (y | z);  // F = x(y + z)
endmodule
```

### VHDL

```vhdl
library IEEE;
use IEEE.STD_LOGIC_1164.ALL;

entity greater_than_4 is
    Port ( x : in  STD_LOGIC;
           y : in  STD_LOGIC;
           z : in  STD_LOGIC;
           F : out STD_LOGIC);
end greater_than_4;

architecture Behavioral of greater_than_4 is
begin
    F <= x and (y or z);  -- F = x(y + z)
end Behavioral;
```

---

## 요약

| 항목 | 내용 |
|------|------|
| **문제** | 3비트 입력이 4를 초과하는지 판별 |
| **진리표** | minterm: Σm(5, 6, 7) |
| **간소화 식** | F = x(y + z) |
| **최소 게이트** | AND 1개 + OR 1개 = 2개 |
| **핵심 원리** | x=1이고 (y 또는 z)=1일 때 4 초과 |
