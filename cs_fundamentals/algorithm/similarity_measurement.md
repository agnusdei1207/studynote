# 유사도 측정 (Similarity Measurement)

유사도 측정은 두 개체(문서, 이미지, 벡터, 데이터 포인트 등) 간의 유사한 정도를 수량화하는 기법입니다. 자연어 처리, 정보 검색, 추천 시스템, 클러스터링, 패턴 인식 등 다양한 분야에서 활용됩니다.

## 1. 개념

유사도 측정은 데이터 간의 유사성을 정량적으로 평가하여, 데이터를 비교, 분류, 검색하는 데 사용하는 기술입니다. 유사도가 높을수록 두 데이터가 유사하며, 거리(Distance) 개념으로도 표현할 수 있습니다.

## 2. 등장 배경

- **정보 검색 시스템 (Information Retrieval System, IRS)**: 대규모 문서 집합에서 관련 문서 검색 필요
- **머신러닝 (Machine Learning, ML)**: 클러스터링, 분류, 최근접 이웃(Nearest Neighbor) 알고리즘에서 거리 기반 판단
- **추천 시스템 (Recommendation System)**: 사용자-아이템 간 유사성 분석을 통한 개인화 추천
- **자연어 처리 (Natural Language Processing, NLP)**: 문서 유사도, 단어 임베딩 비교

## 3. 구성 요소

| 유형 | 주요 방법 | 특징 | 활용 분야 |
|------|-----------|------|-----------|
| **벡터 유사도** | 코사인 유사도 (Cosine Similarity) | 방향성 기반 | 텍스트, 임베딩 |
| | 유클리드 거리 (Euclidean Distance) | 거리 기반 | 공간 데이터, 군집화 |
| | 맨하탄 거리 (Manhattan Distance) | 격자 거리 | 도시 문제, 택시 거리 |
| **시퀀스 유사도** | 편집 거리 (Edit Distance, Levenshtein Distance) | 문자열 비교 | DNA 서열, 철자 검사 |
| **집합 유사도** | 자카드 유사도 (Jaccard Similarity) | 집합 기반 | 문서, 집합 데이터 |
| **통계적 유사도** | 피어슨 상관계수 (Pearson Correlation Coefficient) | 선형 상관성 | 통계 데이터 |

## 4. 핵심 원리

### 4.1 코사인 유사도 (Cosine Similarity)

두 벡터 간의 각도를 이용하여 유사도를 측정합니다. 벡터의 크기에 영향을 받지 않고 방향성만을 고려합니다.

$$
\text{Cosine Similarity} = \frac{\mathbf{A} \cdot \mathbf{B}}{\|\mathbf{A}\| \|\mathbf{B}\|}
$$

**특징**: 벡터의 크기가 다르더라도 방향이 같으면 유사도 1, 반대면 -1

### 4.2 유클리드 거리 (Euclidean Distance)

두 점 사이의 직선 거리를 측정합니다.

$$
d(\mathbf{A}, \mathbf{B}) = \sqrt{\sum_{i=1}^{n}(A_i - B_i)^2}
$$

**특징**: 벡터의 크기와 방향 모두 고려

### 4.3 자카드 유사도 (Jaccard Similarity)

두 집합의 교집합과 합집합의 비율로 유사도를 측정합니다.

$$
J(A, B) = \frac{|A \cap B|}{|A \cup B|}
$$

**특징**: 0~1 사이의 값, 집합 기반 데이터에 적합

### 4.4 편집 거리 (Edit Distance, Levenshtein Distance)

두 문자열 간의 최소 편집 횟수(삽입, 삭제, 대체)를 측정합니다.

**특징**: 시퀀스 데이터 비교에 적합

## 5. 장단점

| 방법 | 장점 | 단점 |
|------|------|------|
| **코사인 유사도** | 벡터 크기 영향 없음, 고차원 데이터에 적합 | 방향만 고려하여 크기 정보 손실 |
| **유클리드 거리** | 직관적, 기하학적 의미 명확 | 차원의 저주(Curse of Dimensionality) 민감 |
| **자카드 유사도** | 이진 데이터, 집합 비교에 효과적 | 집합 크기에 민감, 빈도 정보 손실 |
| **편집 거리** | 시퀀스 데이터에 적합 | 계산 복잡도 높음(O(m×n)) |

## 6. 다른 기법과 비교

| 구분 | 유사도(Similarity) | 거리(Distance) |
|------|-------------------|---------------|
| **의미** | 높을수록 유사함 | 낮을수록 유사함 |
| **값의 범위** | 0~1 또는 -1~1 | 0~∞ |
| **관계** | Similarity = 1 / (1 + Distance) | Distance = 1 / Similarity |

## 7. 기술사적 판단 (Engineering Judgment)

### 7.1 데이터 특성 고려

- **벡터 데이터**: 코사인 유사도, 유클리드 거리
- **텍스트/문서**: 코사인 유사도, 자카드 유사도
- **시퀀스 데이터**: 편집 거리, 동적 계획법(Dynamic Programming, DP) 기반

### 7.2 차원 수 고려

- **고차원 데이터(1000차원 이상)**: 코사인 유사도 권장 (차원의 저주 방지)
- **저차원 데이터**: 유클리드 거리 사용 가능

### 7.3 계산 복잡도

- **대규모 데이터**: 근사 근접 이웃(Approximate Nearest Neighbor, ANN) 알고리즘 활용
- **실시간 요구**: 코사인 유사도가 계산 효율 우수

### 7.4 정규화(Normalization) 필요성

- 유클리드 거리 사용 시, 데이터 스케일 정규화 필수
- 코사인 유사도는 정규화 과정 포함

### 7.5 도메인 특화

- **추천 시스템**: 피어슨 상관계수, 코사인 유사도
- **정보 검색**: BM25(Best Matching 25), TF-IDF(Term Frequency-Inverse Document Frequency)
- **이미지 유사도**: 구조적 유사성(Structural Similarity Index, SSIM)

## 8. 미래 전망

| 기술 | 설명 | 기대 효과 |
|------|------|-----------|
| **딥러닝 기반 임베딩** (Deep Learning-based Embedding) | BERT, GPT 등의 사전 학습 모델 활용 | 의미적 유사도 측정 정확도 향상 |
| **멀티모달 유사도** (Multimodal Similarity) | 텍스트, 이미지, 오디오 간 유사도 측정 | 교차 모달 검색 가능 |
| **그래프 신경망** (Graph Neural Network, GNN) | 그래프 구조 데이터 유사도 측정 | 소셜 네트워크, 지식 그래프 분석 |
| **해시 기반 근사 검색** (Hash-based Approximate Search) | LSH(Locality-Sensitive Hashing) 등 활용 | 대규모 데이터 실시간 검색 |

---

## 부록: 어린이를 위한 설명

### 비유로 이해하는 유사도 측정 🎨

#### 1. 코사인 유사도는 "화살표 방향 비교" 🏹

> 두 친구가 같은 방향을 바라보고 있어요!
>
> - 친구 A가 북쪽을 보고 있고, 친구 B도 북쪽을 보고 있으면: **유사도 100%**
> - 친구 A가 북쪽을 보고, 친구 B가 동쪽을 보면: **유사도 50%**
> - 친구 A가 북쪽을 보고, 친구 B가 남쪽을 보면: **유사도 0%**
> - 친구 A가 북쪽을 보고, 친구 B가 반대쪽(남쪽)을 보면: **유사도 -100%**
>
> **중요한 건 화살표가 길지 짧은지가 아니라, 같은 방향을 보고 있느냐에요!**

#### 2. 유클리드 거리는 "두 점 사이의 직선 거리" 📏

> 친구 A와 친구 B가 공원에 있어요.
>
> - A가 (0, 0)에 있고, B가 (3, 4)에 있으면: 직선 거리는 5미터
> - 거리가 가까울수록 **유사함**
> - 거리가 멀수록 **다름**
>
> **가장 짧은 길은 직선! 그게 유클리드 거리예요.**

#### 3. 자카드 유사도는 "장난감 공통 개수" 🧸

> 친구 A의 장난감: [자동차, 인형, 공, 로봇]
> 친구 B의 장난감: [자동차, 인형, 비행기]
>
> - 공통된 장난감: [자동차, 인형] → 2개
> - 전체 장난감 합치기: [자동차, 인형, 공, 로봇, 비행기] → 5개
> - 유사도 = 2 ÷ 5 = 0.4 (40%)
>
> **같은 장난감이 많을수록 친해요!**

#### 4. 편집 거리는 "단어 맞추기 게임" ✏️

> 원래 단어: "사과"
> 고칠 단어: "사랑"
>
> 1. "사과"에서 "과"를 지움 → "사"
> 2. "랑"을 추가 → "사랑"
>
> **2번 고쳤으니 편집 거리는 2예요!**

### 요약 🎯

| 친구 | 무슨 게임인지? | 언제 쓸까요? |
|------|--------------|-------------|
| 코사인 | 화살표 방향 | 책 내용 비교할 때 |
| 유클리드 | 직선 거리 | 지도에서 위치 찾을 때 |
| 자카드 | 공통 장난감 | 같은 장난감 찾을 때 |
| 편집 거리 | 단어 맞추기 | 오타 찾을 때 |
