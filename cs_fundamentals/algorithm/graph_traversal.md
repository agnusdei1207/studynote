# 그래프 순회와 최단 경로 탐색 (Graph Traversal & Shortest Path)

## I. 그래프 모든 정점 방문 방법 (Graph Traversal)

그래프 순회란 하나의 정점으로부터 시작하여 그래프 내의 모든 정점을 한 번씩 방문하는 과정을 말합니다.

### 1.1 깊이 우선 탐색 (DFS, Depth-First Search)
- **개념**: 현재 노드와 인접한 노드 중 하나를 선택해 끝까지 파고든 후, 더 이상 갈 곳이 없으면 가장 최근의 갈림길로 되돌아와 다른 방향을 탐색하는 방식입니다.
- **구현**: 재귀 함수(Recursion) 또는 명시적인 스택(Stack)을 사용합니다.
- **특징**:
  - 모든 경로를 탐색해야 할 때(완전 탐색) 유용합니다.
  - 경로의 특징(예: 경로 상의 노드 값 저장)을 간직해야 할 때 적합합니다.
  - 최단 경로를 보장하지 않습니다.

### 1.2 너비 우선 탐색 (BFS, Breadth-First Search)
- **개념**: 시작 노드로부터 인접한 노드들을 먼저 모두 방문한 뒤, 그 다음 레벨의 노드들을 방문하는 방식입니다.
- **구현**: 큐(Queue) 자료구조를 사용하여 방문할 순서를 관리합니다.
- **특징**:
  - **가중치가 없는 그래프에서 최단 경로**를 찾는 데 최적입니다.
  - 레벨 단위로 확장하므로, 목적지를 발견하는 순간이 최단 거리입니다.
  - 무한한 깊이의 그래프에서도 해를 찾을 수 있습니다.

---

## II. 최단 거리 탐색을 위한 알고리즘 선택 기준

최단 거리를 구할 때는 그래프의 특성(가중치 유무, 음수 존재 여부)에 따라 적합한 방법이 달라집니다.

### 2.1 그래프 특성별 최적 방법

| 그래프 유형 | 적합한 알고리즘 | 이유 |
| :--- | :--- | :--- |
| **가중치 없는 그래프** | **BFS** | 레벨 단위 탐색으로 가장 먼저 도착하는 것이 최단 경로임 |
| **양수 가중치 그래프** | **다익스트라 (Dijkstra)** | 그리디 방식으로 효율적으로 최단 거리 확정 |
| **음수 가중치 포함** | **벨만-포드 (Bellman-Ford)** | 음수 간선 완화 및 음수 사이클 감지 가능 |
| **모든 정점 쌍 간의 거리** | **플로이드-워셜 (Floyd-Warshall)** | 거쳐가는 정점을 기준으로 모든 경로 일괄 계산 |

### 2.2 왜 DFS는 최단 거리 탐색에 부적합한가?
1. **경로의 비최적성**: DFS는 운 좋게 목적지에 빨리 도달할 수도 있지만, 아주 멀리 돌아가는 경로를 먼저 선택할 가능성이 큽니다.
2. **비효율적인 갱신**: DFS로 최단 경로를 찾으려면 모든 경로를 다 가보고 최소값을 계속 갱신해야 하므로, BFS보다 훨씬 많은 연산이 필요합니다.

---

## III. 기술사적 요약 및 실무 가이드

### 3.1 판단 매트릭스
1. **"가중치가 모두 1인가?"** → Yes: **BFS** 사용
2. **"간선마다 가중치가 다른가?"**
   - 음수 가중치가 없다면 → **다익스트라** 사용
   - 음수 가중치가 있다면 → **벨만-포드** 사용
3. **"미로 찾기처럼 모든 경우의 수를 봐야 하는가?"** → **DFS** 사용

### 3.2 성능 최적화 팁
- **BFS 최적화**: 방문 여부(`visited`) 체크를 큐에 넣기 직전에 수행하여 중복 방문을 방지합니다.
- **공간 복잡도**: DFS는 경로의 깊이에 비례하는 스택 공간을, BFS는 해당 레벨의 노드 수에 비례하는 큐 공간을 사용하므로 그래프의 모양(Deep vs Wide)에 따라 선택이 달라질 수 있습니다.

---

## [부록] 비유로 이해하기

### 👨‍👩‍👧‍👦 미기(DFS) vs 넓이(BFS)의 보물찾기
- **미기(DFS)**: "나는 한 우물만 판다!" 보물 지도를 들고 동굴 깊숙한 곳까지 끝까지 들어가 봅니다. 막히면 그제서야 나와서 옆길로 갑니다. (가장 깊은 곳의 보물을 찾긴 좋지만, 입구 바로 옆에 있는 보물을 지나칠 수 있음)
- **넓이(BFS)**: "나는 내 주변부터 훑는다!" 시작점에서 한 걸음 거리인 곳을 다 보고, 그 다음 두 걸음 거리인 곳을 다 봅니다. (입구에서 가장 가까운 보물을 찾는 데 최고!)

**결론**: "가장 빨리 보물을 찾으려면? 내 주변부터 샅샅이 뒤지는 **넓이(BFS)**가 최고입니다!"
