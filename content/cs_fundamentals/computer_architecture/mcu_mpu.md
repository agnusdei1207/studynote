# MCU / MPU (마이크로컨트롤러 / 마이크로프로세서)

## 핵심 인사이트 (3줄 요약)
> **MCU**는 CPU + 메모리 + I/O가 통합된 단일 칩 시스템(SoC). **MPU**는 CPU만 있는 프로세서로 외부 메모리/I/O 필요. MCU는 임베디드, MPU는 고성능 시스템에 사용된다.

## 1. 개념

### MCU (Micro Controller Unit)
- CPU + 메모리 + I/O **통합** 칩
- 단독으로 동작 가능
- 임베디드, IoT에 사용

### MPU (Micro Processing Unit)
- **CPU만** 있는 칩
- 외부 메모리, I/O 필요
- PC, 서버에 사용

## 2. 구조 비교

```
MCU (통합형):
┌─────────────────────────┐
│  ┌─────┐  ┌─────┐      │
│  │ CPU │  │ RAM │      │
│  └─────┘  └─────┘      │
│  ┌─────┐  ┌─────┐      │
│  │ ROM │  │ I/O │      │
│  └─────┘  └─────┘      │
│  ┌──────────────────┐  │
│  │ ADC / DAC / UART │  │
│  └──────────────────┘  │
└─────────────────────────┘
     모든 게 한 칩 안에!

MPU (분리형):
┌─────┐     ┌─────┐     ┌─────┐
│ CPU │─────│ RAM │─────│ I/O │
└─────┘     └─────┘     └─────┘
     외부 칩들과 연결 필요
```

## 3. 비교표

| 항목 | MCU | MPU |
|------|-----|-----|
| 구성 | CPU+메모리+I/O | CPU만 |
| 크기 | 작음 | 큼 |
| 전력 | 낮음 | 높음 |
| 성능 | 낮음 | 높음 |
| 가격 | 저렴 | 비쌈 |
| 용도 | 임베디드 | PC/서버 |

## 4. 대표 MCU

| MCU | 코어 | 특징 |
|-----|------|------|
| STM32 | ARM Cortex-M | 범용, 다양한 라인업 |
| ESP32 | Xtensa | WiFi/Bluetooth 내장 |
| ATmega | AVR | Arduino, 교육용 |
| PIC | PIC | 레거시, 산업용 |

## 5. 대표 MPU

| MPU | 특징 | 용도 |
|-----|------|------|
| Intel Core | x86 | PC |
| AMD Ryzen | x86 | PC/서버 |
| Apple M | ARM | Mac |
| Snapdragon | ARM | 스마트폰 |

## 6. MCU 주요 기능

```
MCU 내장 기능:

1. 디지털 I/O: GPIO (범용 입출력)
2. 타이머: PWM, 카운터
3. 통신: UART, SPI, I2C, CAN
4. 아날로그: ADC, DAC
5. 메모리: Flash, SRAM
6. 인터럽트: 외부, 내부 이벤트
```

## 7. MCU 응용 분야

| 분야 | 예시 |
|------|------|
| 가전 | 세탁기, 전자레인지 |
| 자동차 | ECU, 센서 |
| IoT | 스마트 홈, 웨어러블 |
| 산업 | PLC, 모터 제어 |
| 의료 | 혈당계, 심박수 |

## 8. MCU 프로그래밍 예시

```c
// STM32 LED 토글 (HAL 라이브러리)
#include "stm32f4xx_hal.h"

int main(void) {
    HAL_Init();

    while(1) {
        HAL_GPIO_TogglePin(GPIOA, GPIO_PIN_5);
        HAL_Delay(500);  // 500ms 대기
    }
}
```

## 9. 선택 기준

| 조건 | MCU | MPU |
|------|-----|-----|
| 전력 제약 | ✓ | |
| 실시간성 | ✓ | |
| 고성능 | | ✓ |
| 복잡한 OS | | ✓ |
| 저비용 | ✓ | |
| 외부 메모리 필요 | | ✓ |

## 10. 실무에선? (기술사적 판단)
- **IoT**: ESP32, STM32가 대세
- **자동차**: AUTOSAR 기반 MCU
- **산업용**: 실시간 OS (FreeRTOS) + MCU
- **모바일**: MPU + DSP + GPU 통합 (SoC)

## 11. 관련 개념
- SoC (System on Chip)
- 임베디드 시스템
- RTOS (Real-Time OS)

---

## 어린이를 위한 종합 설명

**MCU vs MPU는 "가게" 비유야!**

### MCU (만능 가게)
```
┌────────────────────┐
│ 🏪 작은 편의점      │
│                    │
│ 계산대(CPU)        │
│ 창고(메모리)       │
│ 냉장고(I/O)        │
│                    │
│ 모든 게 가게 안에! │
└────────────────────┘

→ 작고 아담하고 전기 적게 써요!
```

### MPU (백화점)
```
🏢 백화점

계산대(MPU) ──── 창고(RAM) ──── 매장(I/O)

→ 각각 따로 있어요. 크고 화려해요!
```

**어디에 쓸까요?**

| MCU 🏪 | MPU 🏢 |
|--------|--------|
| 전자레인지 | 컴퓨터 |
| 리모컨 | 스마트폰 |
| 스마트 워치 | 게임기 |
| 자동차 센서 | 서버 |

**비밀**: 요즘 스마트폰 칩은 MCU + MPU + DSP + GPU가 **모두 한 칩에** 들어가요! 📱✨
