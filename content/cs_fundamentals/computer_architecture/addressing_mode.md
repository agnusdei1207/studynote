+++
title = "주소 지정 방식 (Addressing Mode)"
date = 2025-02-27
+++

# 주소 지정 방식 (Addressing Mode)

## 핵심 인사이트 (3줄 요약)
> 명령어에서 **피연산자의 주소를 결정**하는 방법. 즉시, 직접, 간접, 레지스터, 인덱스 등 다양한 방식이 있다. 명령어 집합의 유연성과 효율성을 결정한다.

## 1. 개념
주소 지정 방식(Addressing Mode)은 **명령어가 데이터를 찾는 방법**을 정의한다. 다양한 방식으로 메모리와 레지스터의 데이터에 접근한다.

> 비유: "물건 찾는 방법" - 직접 가서 찾기, 주소만 보고 찾기, 지도로 찾기

## 2. 주요 주소 지정 방식

### 즉시 주소 지정 (Immediate)
```
ADD R1, #10    ; R1 = R1 + 10

데이터가 명령어 안에 직접 포함
→ 빠름, 데이터 크기 제한
```

### 직접 주소 지정 (Direct)
```
LOAD R1, 1000  ; R1 = Memory[1000]

주소가 명령어에 직접 포함
→ 간단, 주소 범위 제한
```

### 간접 주소 지정 (Indirect)
```
LOAD R1, (R2)  ; R1 = Memory[Memory[R2]]

주소를 가리키는 주소
→ 유연함, 느림 (2번 접근)
```

### 레지스터 주소 지정 (Register)
```
ADD R1, R2     ; R1 = R1 + R2

레지스터의 데이터 사용
→ 가장 빠름
```

### 레지스터 간접 주소 지정
```
LOAD R1, (R2)  ; R1 = Memory[R2]

레지스터에 메모리 주소 저장
→ 유연함, 빠름
```

### 인덱스 주소 지정 (Indexed)
```
LOAD R1, 100(R2)  ; R1 = Memory[R2 + 100]

베이스 + 오프셋
→ 배열 접근에 유용
```

## 3. 비교표

| 방식 | 주소 계산 | 접근 횟수 | 용도 |
|------|----------|----------|------|
| 즉시 | 없음 | 0 | 상수 |
| 직접 | 명령어 | 1 | 전역 변수 |
| 간접 | 메모리 | 2 | 포인터 |
| 레지스터 | 레지스터 | 0 | 지역 변수 |
| 인덱스 | 레지스터+오프셋 | 1 | 배열 |

## 4. 변형된 주소 지정 방식

### 자동 증가/감소
```
LOAD R1, (R2)+  ; R1 = Memory[R2], R2++
LOAD R1, -(R2)  ; R2--, R1 = Memory[R2]

→ 스택, 리스트 순회에 유용
```

### 베이스+인덱스
```
LOAD R1, (R2+R3)  ; R1 = Memory[R2 + R3]

→ 2차원 배열 접근
```

### PC 상대 주소 지정
```
JUMP +100    ; PC = PC + 100

→ 위치 독립 코드, 분기
```

## 5. 코드 예시

```c
// C언어와 대응

int x = 10;          // 즉시: x = 10
int y = *ptr;        // 간접: y = *ptr
int z = arr[5];      // 인덱스: z = arr[5]
int w = *(ptr + 5);  // 베이스+오프셋
```

## 6. 어셈블리 예시 (ARM)

```asm
MOV R0, #10          ; 즉시
LDR R0, =0x1000      ; 직접 (의사 명령어)
LDR R0, [R1]         ; 레지스터 간접
LDR R0, [R1, #4]     ; 인덱스
LDR R0, [R1, R2]     ; 베이스+인덱스
LDR R0, [R1], #4     ; 포스트 인덱스 (R1 += 4)
```

## 7. 장단점

| 장점 | 단점 |
|-----|------|
| 유연한 프로그래밍 | 명령어 복잡 |
| 코드 크기 절약 | 구현 복잡 |
| 다양한 데이터 접근 | 실행 시간 차이 |

## 8. RISC vs CISC

| 아키텍처 | 주소 지정 방식 |
|----------|---------------|
| RISC | 적음 (Load/Store) |
| CISC | 많음 (다양한 방식) |

## 9. 실무에선? (기술사적 판단)
- **컴파일러**: 최적 주소 지정 방식 선택
- **RISC-V**: Load/Store만 메모리 접근
- **x86**: 복잡한 주소 지정 지원

## 10. 관련 개념
- 명령어 형식
- 피연산자
- 유효 주소

---

## 어린이를 위한 종합 설명

**주소 지정 방식은 "물건 찾는 방법"이야!**

### 즉시 (Immediate)
```
"사과가 여기 있어!" 🍎
→ 물건이 바로 명령어 안에!
```

### 직접 (Direct)
```
"3번 서랍에 있어!"
→ 주소를 바로 알려줌
```

### 간접 (Indirect)
```
"철수한테 물어봐, 철수가 알아!"
→ 한 번 더 거쳐야 함
```

### 레지스터 (Register)
```
"내 주머니에 있어!"
→ 가장 빠름! 🏃
```

### 인덱스 (Indexed)
```
"3번 서랸데, 왼쪽에서 5칸 옆이야!"
→ 기준점 + 이동 거리
```

**비밀**: 프로그래머가 "배열[5]"라고 쓰면, 컴파일러가 인덱스 주소 지정으로 바꿔줘요! 📦
